{"version":3,"file":"js/230.9fec133c.js","mappings":"mtBAGA,MAAMA,EAAc,EAEpB,O,seCFA,MAAMA,EAAc,EAEpB,O,o3BCuHA,MAAMC,GAAQC,EAAAA,EAAAA,IAAI,IACZC,GAAQD,EAAAA,EAAAA,IAAI,IAEZE,GAAWF,EAAAA,EAAAA,IAAI,IACfG,GAAkBH,EAAAA,EAAAA,IAAI,IAEtBI,EAAS,KACb,MAAMC,GAAOC,EAAAA,EAAAA,OAEbC,EAAAA,EAAAA,IAA+BF,EAAMN,EAAMS,MAAON,EAASM,OACxDC,MAAK,EAAGC,YACPC,EAAAA,EAAAA,IAAcD,EAAM,CAAEE,YAAaX,EAAMO,QAASC,MAAK,MACrDI,EAAAA,EAAAA,IAAsBR,EAAKS,aAAaL,MAAK,KAC3CM,QAAQC,IAAI,gBACZC,EAAAA,EAAAA,KAAY,CAAEC,KAAM,SAAU,GAC9B,GACF,IAEHC,OAAOC,IACN,MAAMC,EAAYD,EAAME,KAClBC,EAAeH,EAAMI,QAE3BT,QAAQK,MACL,uBAAsBG,eAA0BF,IAClD,GACD,EAGAI,EAAY,KAChBR,EAAAA,EAAAA,KAAY,CAAEC,KAAM,SAAU,E,suECtJhC,MAAMpB,EAAc,EAEpB,O","sources":["webpack://cloudy/./src/components/ContentPanel.vue","webpack://cloudy/./src/components/base/BaseButton.vue","webpack://cloudy/./src/views/RegisterView.vue","webpack://cloudy/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["import script from \"./ContentPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ContentPanel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./BaseButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <ContentPanel>\n    <template #header>Sign up</template>\n    <template #default>\n      <Form\n        v-slot=\"{ meta }\"\n        class=\"text-xs min-[350px]:text-base max-w-sm mx-auto p-2 md:max-w-md\"\n        @submit=\"signUp\"\n      >\n        <div class=\"mb-5\">\n          <div class=\"flex justify-between items-center\">\n            <label for=\"login\">Email</label>\n            <Field\n              id=\"email\"\n              v-model=\"email\"\n              rules=\"required|email\"\n              placeholder=\"example@gmail.com\"\n              type=\"email\"\n              name=\"email\"\n              class=\"pl-1 border-b border-solid border-gray-400 focus:outline-none\"\n            />\n          </div>\n          <ErrorMessage\n            v-slot=\"{ message }\"\n            name=\"email\"\n          >\n            <div class=\"text-right text-red-500\">{{ message }}</div>\n          </ErrorMessage>\n        </div>\n\n        <div class=\"mb-5\">\n          <div class=\"flex justify-between items-center\">\n            <label for=\"login\">Username</label>\n            <Field\n              id=\"login\"\n              v-model=\"login\"\n              rules=\"required\"\n              placeholder=\"Create an username\"\n              type=\"text\"\n              name=\"login\"\n              class=\"pl-1 border-b border-solid border-gray-400 focus:outline-none\"\n            />\n          </div>\n          <ErrorMessage\n            v-slot=\"{ message }\"\n            name=\"login\"\n          >\n            <div class=\"text-right text-red-500\">{{ message }}</div>\n          </ErrorMessage>\n        </div>\n\n        <div class=\"mb-5\">\n          <div class=\"flex justify-between items-center\">\n            <label\n              for=\"password\"\n              class=\"mr-5\"\n              >Password</label\n            >\n            <Field\n              id=\"password\"\n              v-model=\"password\"\n              :rules=\"{ required: true, min: 6 }\"\n              placeholder=\"Enter your password\"\n              type=\"password\"\n              name=\"password\"\n              class=\"pl-1 border-b border-solid border-gray-400 focus:outline-none\"\n            />\n          </div>\n          <ErrorMessage\n            v-slot=\"{ message }\"\n            name=\"password\"\n          >\n            <div class=\"text-right text-red-500\">{{ message }}</div>\n          </ErrorMessage>\n        </div>\n\n        <div class=\"mb-5\">\n          <div class=\"flex justify-between items-center\">\n            <label for=\"password\">Repeat password</label>\n            <Field\n              id=\"password-repeat\"\n              v-model=\"confirmPassword\"\n              :rules=\"{ required: true, isPassword: password }\"\n              placeholder=\"Repeat your password\"\n              type=\"password\"\n              name=\"password-repeat\"\n              class=\"pl-1 border-b border-solid border-gray-400 focus:outline-none\"\n            />\n          </div>\n          <ErrorMessage\n            v-slot=\"{ message }\"\n            name=\"password-repeat\"\n          >\n            <div class=\"text-right text-red-500\">{{ message }}</div>\n          </ErrorMessage>\n        </div>\n\n        <BaseButton :disabled=\"!meta.valid\">Sign up</BaseButton>\n        <div class=\"leading-5 mt-1\">or</div>\n\n        <button\n          class=\"text-xs hover:underline\"\n          @click.prevent=\"goToLogin\"\n        >\n          Sign in\n        </button>\n      </Form>\n    </template>\n  </ContentPanel>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport ContentPanel from \"../components/ContentPanel.vue\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  sendEmailVerification,\n  updateProfile,\n} from \"firebase/auth\";\nimport router from \"@/router\";\nimport BaseButton from \"@/components/base/BaseButton.vue\";\n\nconst email = ref(\"\");\nconst login = ref(\"\");\n\nconst password = ref(\"\");\nconst confirmPassword = ref(\"\");\n\nconst signUp = () => {\n  const auth = getAuth();\n\n  createUserWithEmailAndPassword(auth, email.value, password.value)\n    .then(({ user }) => {\n      updateProfile(user, { displayName: login.value }).then(() => {\n        sendEmailVerification(auth.currentUser).then(() => {\n          console.log(\"email sended\");\n          router.push({ name: \"login\" });\n        });\n      });\n    })\n    .catch((error) => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n\n      console.error(\n        `Creating user error ${errorMessage} with code ${errorCode}`\n      );\n    });\n};\n\nconst goToLogin = () => {\n  router.push({ name: \"login\" });\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import script from \"./RegisterView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__exports__","email","ref","login","password","confirmPassword","signUp","auth","getAuth","createUserWithEmailAndPassword","value","then","user","updateProfile","displayName","sendEmailVerification","currentUser","console","log","router","name","catch","error","errorCode","code","errorMessage","message","goToLogin"],"sourceRoot":""}